
{% liquid

    assign row_reverse_class = '' 
    if section.settings.controls-position=='right'
    assign row_reverse_class = 'row-reverse'
    endif
    
    %}

<section>
    <div class="{{'section-content ' | append:row_reverse_class}}">
        <div class="title-wrapper">
            <div class="slider-controls">
                <div class="prev-slide"><img src="{{ 'arrow-left.png' |asset_url }}" alt="carousel-previous-icon"></div>
                <div class="next-slide"><img src="{{ 'arrow-right.png'|asset_url }}" alt="carousel-previous-icon"></div>
            </div>
            <div class="collection-title">
                {{section.settings.collection-slider.title}}
            </div>
            
        </div>
        <div id="slider-container">
            <div id="lnw-product-list" class="owl-carousel">
                {% for product in section.settings.collection-slider.products %}
                  <a href="{{ product.url }}">
                      <div class="carousel-item">
                        <img src="{{ product.featured_image | image_url }}" alt="{{ product.title | escape }}" />
                        <div class="carousel-item-footer">
                            <div class="product-title">{{product.title}}</div>
                            <div class="product-title">{{product.price | money_with_currency}}</div>
                        </div>
                      </div>
                  </a>
                  {% endfor %}
              </div>
        </div>
    </div>
  </section>
  
  {% schema %}
  {
      "name": "LNW Collecion Slider",
      "settings": [{
          "id": "collection-slider",
          "label": "collection",
          "type": "collection"
      },
      {
        "type": "select",
        "id": "controls-position",
        "label": "Controls Position",
        "options": [
          {
            "value": "left",
            "label": "left"
          },
          {
            "value": "right",
            "label": "right"
          }
          
        ],
        "default": "left"
      }
      ],
      "presets": [{
          "name": "LNW Collection",
          "category": "LNW "
      }]
  }
  {% endschema %}
  
  {% stylesheet %}

  #slider-container{
    overflow-x:hidden;
    flex:3
  }

  .section-content {
    margin: 20px;
    display: flex;
    justify-content: start;
    align-items: center;
}

 /* the slides */
 .slick-slide {
    margin: 0 27px;
}

/* the parent */
.slick-list {
    margin: 0 -27px;
}

.slider-controls {
    display: flex;
    justify-content: center;
    flex-shrink: inherit;
    padding: 5px;
    border: 1px solid black;
    border-radius: 5px;
    align-self: flex-end;
    margin-right: 15px;
}

.slick-arrow {
    cursor: pointer;
    padding: 0px 5px;
}

.carousel-item-footer {
    display: flex;
    justify-content: space-between;
}

.title-wrapper {
    display: flex;
    flex: 1;
    flex-direction: column;
    justify-content:space-between;
    padding: 0px 20px 20px 20px;
}
.owl-nav{

    display:none;
}
  {% endstylesheet %}
  
  {% javascript %}
  var owl = $('.owl-carousel').owlCarousel({
    loop:true,
    margin:10,
    nav:true,
    responsive:{
        0:{
            items:1
        },
        600:{
            items:2
        },
        1000:{
            items:3
        },
        1600:{
            items:4
        }
    }
});
$('.prev-slide').click(function() {
    owl.trigger('prev.owl.carousel');
})
// Go to the previous item
$('.next-slide').click(function() {
    owl.trigger('next.owl.carousel');
})
$(window).resize(function(){
    var slideHeight = $('.carousel-item img').height();
$('.title-wrapper').height(slideHeight);
})
  {% endjavascript %}